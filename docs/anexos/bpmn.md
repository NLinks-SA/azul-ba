# Diagramas BPMN

Diagramas de procesos en notación BPMN (Business Process Model and Notation).

---

## 1. Flujo General: MTO + Subcontratación + Ensamblado

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           FLUJO GENERAL                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  CLIENTE                                                                    │
│     │                                                                       │
│     ▼                                                                       │
│  ○──────────────────────────────────────────────────────────────────────○   │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────┐                                                           │
│  │  Solicitud  │                                                           │
│  │ Cotización  │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│  ═══════╪═══════════════════════════════════════════════════════════════   │
│  VENTAS │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐                  │
│  │   Crear     │────▶│   Enviar    │────▶│  Confirmar  │                  │
│  │ Cotización  │     │ Cotización  │     │    Venta    │                  │
│  │  [MANUAL]   │     │  [MANUAL]   │     │  [MANUAL]   │                  │
│  └─────────────┘     └─────────────┘     └──────┬──────┘                  │
│                                                  │                         │
│  ════════════════════════════════════════════════╪═════════════════════   │
│  SISTEMA                                         │                         │
│                                    ┌─────────────┴─────────────┐          │
│                                    │                           │          │
│                                    ▼                           ▼          │
│                             ┌─────────────┐            ┌─────────────┐    │
│                             │  Crear MO   │            │ Crear POs   │    │
│                             │ [AUTOMÁTICO]│            │[AUTOMÁTICO] │    │
│                             └─────────────┘            └─────────────┘    │
│                                                                           │
│  ═══════════════════════════════════════════════════════════════════════  │
│  COMPRAS                                                                   │
│                                    │                                       │
│                                    ▼                                       │
│                             ┌─────────────┐                               │
│                             │  Confirmar  │                               │
│                             │    POs      │                               │
│                             │  [MANUAL]   │                               │
│                             └──────┬──────┘                               │
│                                    │                                       │
│  ═══════════════════════════════════╪══════════════════════════════════   │
│  INVENTARIO + CALIDAD              │                                       │
│                     ┌──────────────┼──────────────┐                       │
│                     │              │              │                        │
│                     ▼              ▼              ▼                        │
│              ┌───────────┐  ┌───────────┐  ┌───────────┐                  │
│              │ Recepción │  │ Recepción │  │ Recepción │                  │
│              │ Prov. A   │  │ Prov. B   │  │ Prov. C   │                  │
│              │ [MANUAL]  │  │ [MANUAL]  │  │ [MANUAL]  │                  │
│              └─────┬─────┘  └─────┬─────┘  └─────┬─────┘                  │
│                    │              │              │                         │
│                    ▼              ▼              ▼                         │
│              ┌───────────┐  ┌───────────┐  ┌───────────┐                  │
│              │    QC     │  │    QC     │  │    QC     │                  │
│              │ [MANUAL]  │  │ [MANUAL]  │  │ [MANUAL]  │                  │
│              └─────┬─────┘  └─────┬─────┘  └─────┬─────┘                  │
│                    │              │              │                         │
│                    └──────────────┼──────────────┘                        │
│                                   │                                        │
│  ═════════════════════════════════╪════════════════════════════════════   │
│  PRODUCCIÓN                       │                                        │
│                                   ▼                                        │
│                            ┌─────────────┐                                │
│                            │   Ejecutar  │                                │
│                            │Work Orders  │                                │
│                            │  [MANUAL]   │                                │
│                            └──────┬──────┘                                │
│                                   │                                        │
│                                   ▼                                        │
│                            ┌─────────────┐                                │
│                            │ Completar   │                                │
│                            │     MO      │                                │
│                            │  [MANUAL]   │                                │
│                            └──────┬──────┘                                │
│                                   │                                        │
│  ═════════════════════════════════╪════════════════════════════════════   │
│  INVENTARIO                       │                                        │
│                                   ▼                                        │
│                            ┌─────────────┐                                │
│                            │  Preparar   │                                │
│                            │  Entrega    │                                │
│                            │  [MANUAL]   │                                │
│                            └──────┬──────┘                                │
│                                   │                                        │
│  ═════════════════════════════════╪════════════════════════════════════   │
│  VENTAS / CONTABILIDAD            │                                        │
│                                   ▼                                        │
│                            ┌─────────────┐                                │
│                            │  Facturar   │                                │
│                            │  Cliente    │                                │
│                            │  [MANUAL]   │                                │
│                            └─────────────┘                                │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. Subflujo: Validación Factura Proveedor (3-Way Match + QC)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│              VALIDACIÓN FACTURA PROVEEDOR (3-WAY + QC)                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  PROVEEDOR                                                                  │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────┐                                                           │
│  │   Envía     │                                                           │
│  │  Factura    │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│  ═══════╪═══════════════════════════════════════════════════════════════   │
│  CONTABILIDAD                                                               │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │  Registrar  │                                                           │
│  │  Factura    │                                                           │
│  │  [MANUAL]   │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────────────────────────────────────────────────┐              │
│  │                   VALIDACIÓN 3-WAY                       │              │
│  │  ┌───────────┐   ┌───────────┐   ┌───────────┐         │              │
│  │  │ Consultar │   │ Consultar │   │ Consultar │         │              │
│  │  │    PO     │   │ Recepción │   │    QC     │         │              │
│  │  │ [MANUAL]  │   │ [MANUAL]  │   │ [MANUAL]  │         │              │
│  │  └─────┬─────┘   └─────┬─────┘   └─────┬─────┘         │              │
│  │        │               │               │                │              │
│  │        ▼               ▼               ▼                │              │
│  │  ┌───────────┐   ┌───────────┐   ┌───────────┐         │              │
│  │  │ ¿Precios  │   │¿Cantidad  │   │ ¿QC       │         │              │
│  │  │ coinciden?│   │≤ recibida?│   │ aprobado? │         │              │
│  │  └─────┬─────┘   └─────┬─────┘   └─────┬─────┘         │              │
│  │        │               │               │                │              │
│  └────────┴───────────────┴───────────────┴────────────────┘              │
│                           │                                                │
│                           ▼                                                │
│                    ◇─────────────◇                                        │
│                   ╱               ╲                                        │
│                  ╱   ¿Todo OK?     ╲                                       │
│                 ╱                   ╲                                      │
│                ◇─────────────────────◇                                    │
│               │                       │                                    │
│              SÍ                      NO                                    │
│               │                       │                                    │
│               ▼                       ▼                                    │
│        ┌───────────┐          ┌───────────┐                               │
│        │  Validar  │          │ Rechazar/ │                               │
│        │  Factura  │          │  Ajustar  │                               │
│        │ [MANUAL]  │          │ [MANUAL]  │                               │
│        └─────┬─────┘          └─────┬─────┘                               │
│              │                      │                                      │
│              │                      ▼                                      │
│              │               ┌───────────┐                                │
│              │               │  Nota de  │                                │
│              │               │  Crédito  │                                │
│              │               └─────┬─────┘                                │
│              │                     │                                       │
│              └──────────┬──────────┘                                      │
│                         │                                                  │
│                         ▼                                                  │
│                  ┌───────────┐                                             │
│                  │ Programar │                                             │
│                  │   Pago    │                                             │
│                  │ [MANUAL]  │                                             │
│                  └───────────┘                                             │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. Subflujo: Tránsito Proveedor A → Proveedor B con QC

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    TRÁNSITO A → B CON QC                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  PROVEEDOR A                                                                │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────┐                                                           │
│  │   Entrega   │                                                           │
│  │"Tapa cruda" │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│  ═══════╪═══════════════════════════════════════════════════════════════   │
│  INVENTARIO                                                                 │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │  Recepción  │                                                           │
│  │  [MANUAL]   │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│  ═══════╪═══════════════════════════════════════════════════════════════   │
│  CALIDAD                                                                    │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │  Control    │                                                           │
│  │  Calidad A  │                                                           │
│  │  [MANUAL]   │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│         ▼                                                                   │
│  ◇─────────────◇                                                          │
│ ╱               ╲                                                          │
│╱   ¿QC Pass?     ╲                                                         │
│╲                 ╱                                                          │
│ ╲               ╱                                                           │
│  ◇─────────────◇                                                          │
│  │             │                                                            │
│ SÍ            NO                                                            │
│  │             │                                                            │
│  │             ▼                                                            │
│  │      ┌───────────┐                                                      │
│  │      │ Devolver  │                                                      │
│  │      │   a A     │                                                      │
│  │      │ [MANUAL]  │                                                      │
│  │      └───────────┘                                                      │
│  │                                                                          │
│  ▼                                                                          │
│  ┌─────────────┐                                                           │
│  │Transferencia│                                                           │
│  │   A → B     │                                                           │
│  │  [MANUAL]   │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│  ═══════╪═══════════════════════════════════════════════════════════════   │
│  PROVEEDOR B                                                                │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │   Recibe    │                                                           │
│  │  material   │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │  Procesa    │                                                           │
│  │  (lustrado) │                                                           │
│  └──────┬──────┘                                                           │
│         │                                                                   │
│         ▼                                                                   │
│  ┌─────────────┐                                                           │
│  │   Entrega   │                                                           │
│  │"Tapa lustr."│                                                           │
│  └─────────────┘                                                           │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Leyenda BPMN

| Símbolo | Significado |
|---------|-------------|
| ○ | Evento de inicio/fin |
| ┌───┐ | Tarea/Actividad |
| ◇ | Gateway (decisión) |
| ═══ | Línea de separación (swimlane) |
| → | Flujo de secuencia |
| [MANUAL] | Tarea manual |
| [AUTOMÁTICO] | Tarea automática del sistema |

---

## Notas

- Los diagramas están simplificados para claridad
- En implementación real, usar herramienta BPMN (Bizagi, draw.io, etc.)
- Los tiempos de espera entre tareas no están representados
